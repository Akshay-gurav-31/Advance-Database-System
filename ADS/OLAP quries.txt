-- ORACLE support

-- Create sample table
CREATE TABLE employees2 (
    emp_id     NUMBER PRIMARY KEY,
    emp_name   VARCHAR2(50),
    monthly_salary NUMBER
);

-- Insert sample data
INSERT INTO employees2 VALUES (1, 'Ravi', 25000);
INSERT INTO employees2 VALUES (2, 'Sneha', 30000);
INSERT INTO employees2 VALUES (3, 'Amit', 28000);
INSERT INTO employees2 VALUES (4, 'Kiran', 35000);

COMMIT;

-- Create function to calculate annual salary
CREATE OR REPLACE FUNCTION get_annual_salary(
    p_emp_id IN NUMBER
)
RETURN NUMBER
AS
    v_annual_salary NUMBER;
BEGIN
    SELECT monthly_salary * 12
    INTO v_annual_salary
    FROM employees2
    WHERE emp_id = p_emp_id;

    RETURN v_annual_salary;
END;
/

-- Call function using SELECT for all employees
SELECT 
    emp_name,
    monthly_salary,
    get_annual_salary(emp_id) AS annual_salary
FROM employees2;

-- Call function for one employee (Oracle uses DUAL)
SELECT get_annual_salary(2) AS sneha_annual_salary 
FROM dual;
